# 매일 7:30 중국어 학습 알림/대화 스크립트 앱 제안

## 목표
- 매일 오전 7:30에 “중국어 공부 시작” 알림 메일을 발송한다.
- 날짜마다 다른 주제(테마)로 **대화 주제 스크립트**를 생성해 메일에 포함한다.
- 사용자는 간단히 구독/해지하고, 주제의 난이도나 관심사를 설정할 수 있다.

## 핵심 사용자 시나리오
1. 사용자가 이메일로 구독한다.
2. 앱이 매일 7:30에 해당 사용자의 설정(레벨/관심사)에 맞는 주제 스크립트를 생성한다.
3. 생성된 내용을 메일로 발송한다.
4. 사용자는 메일을 읽고 아침 학습을 시작한다.

## 기능 제안 (MVP → 확장)
### MVP (빠르게 런칭)
- **구독 관리**: 이메일 + 언어 레벨(초/중/고) + 관심사(여행/비즈니스/일상 등) 저장.
- **주제 스크립트 생성**: 미리 정의한 주제 템플릿 + ChatGPT 생성.
- **스케줄러**: 매일 7:30 KST에 일괄 발송.
- **메일 발송**: SMTP 또는 메일 API로 전송.

### 확장 기능
- **주제 로테이션 로직**: 최근 30일 동안 겹치지 않도록 주제 선택.
- **난이도 조절**: 어휘/문장 길이/문법 난이도 파라미터화.
- **반복 학습 모드**: 전날/지난주 주제 복습 옵션.
- **대화형 피드백**: 사용자가 답장을 보내면 간단한 코멘트/수정 제공.

## 시스템 설계 제안
### 아키텍처
- **프론트**: 간단한 구독 페이지 (이메일/레벨/관심사 입력)
- **백엔드 API**: 구독 데이터 저장, 발송 기록 관리
- **스케줄러**: 크론/서버리스 스케줄러로 매일 7:30 트리거
- **LLM 생성**: 주제 템플릿 + 프롬프트 구성 후 OpenAI API 호출
- **메일 전송**: SendGrid/Mailgun 등 사용

### 데이터 모델 (예시)
- `subscribers`
  - `id`, `email`, `level`, `topics`, `timezone`, `active`, `created_at`
- `email_logs`
  - `id`, `subscriber_id`, `topic_id`, `sent_at`, `status`
- `topics`
  - `id`, `category`, `title`, `prompt_template`

## LLM 프롬프트 구성 예시
- **입력**: 레벨, 관심사, 오늘 날짜, 최근 사용 주제 목록
- **출력**: 1) 대화 상황 소개 2) 주요 어휘 3) 대화문 4) 질문 1~2개

## 일정/운영 방법
- 서버리스 스케줄러(예: Cloud Scheduler) → 백엔드 API 호출
- API에서 활성 구독자를 조회 → LLM 생성 → 메일 발송 → 로그 저장

## 초기 구현 권장 스택 (예시)
- **백엔드**: Node.js + Express
- **DB**: SQLite (초기) → PostgreSQL (확장)
- **메일**: SendGrid
- **스케줄러**: GitHub Actions Cron 또는 클라우드 스케줄러

## 다음 단계 제안
1. MVP 스펙 확정 및 주제 템플릿 20~30개 구성
2. 구독 페이지와 기본 API 구현
3. 스케줄러 + 메일 발송 연동
4. 소규모 사용자 테스트 후 프롬프트/주제 개선

## Appendix: 작업 중 실행한 명령어
- `ls`
- `find .. -name AGENTS.md -print`
- `ls /workspace/daily_chinese`
- `ls -a /workspace/daily_chinese`
